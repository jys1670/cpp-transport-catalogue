\hypertarget{json_8h_source}{}\doxysection{json.\+h}
\label{json_8h_source}\index{/home/user/Documents/cpp-\/transport-\/catalogue/transport-\/catalogue/json.h@{/home/user/Documents/cpp-\/transport-\/catalogue/transport-\/catalogue/json.h}}
\mbox{\hyperlink{json_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <unordered\_set>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <variant>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacejson}{json}} \{}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{class }Node;}
\DoxyCodeLine{21 \textcolor{keyword}{class }Document;}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{class }\mbox{\hyperlink{classjson_1_1ParsingError}{ParsingError}} : \textcolor{keyword}{public} std::runtime\_error \{}
\DoxyCodeLine{24 \textcolor{keyword}{public}:}
\DoxyCodeLine{25   \textcolor{keyword}{using }runtime\_error::runtime\_error;}
\DoxyCodeLine{26 \};}
\DoxyCodeLine{27 }
\DoxyCodeLine{29 \textcolor{keyword}{struct }\mbox{\hyperlink{structjson_1_1PrintContext}{PrintContext}} \{}
\DoxyCodeLine{30   std::ostream \&out;}
\DoxyCodeLine{31   \textcolor{keywordtype}{int} indent\_step = 4;}
\DoxyCodeLine{32   \textcolor{keywordtype}{int} indent = 0;}
\DoxyCodeLine{33 }
\DoxyCodeLine{34   \textcolor{keywordtype}{void} PrintIndent() \textcolor{keyword}{const};}
\DoxyCodeLine{35   \mbox{\hyperlink{structjson_1_1PrintContext}{PrintContext}} Indented() \textcolor{keyword}{const};}
\DoxyCodeLine{36 \};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&lhs, \textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&rhs);}
\DoxyCodeLine{39 \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&lhs, \textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&rhs);}
\DoxyCodeLine{40 }
\DoxyCodeLine{45 \textcolor{keyword}{using }\mbox{\hyperlink{namespacejson_a14165bfd985e982794b3697b71cc4a01}{Dict}} = std::map<std::string, Node>;}
\DoxyCodeLine{46 \textcolor{keyword}{using }Array = std::vector<Node>;}
\DoxyCodeLine{47 }
\DoxyCodeLine{49 \textcolor{keyword}{const} std::unordered\_set<char> \mbox{\hyperlink{namespacejson_a7dfa1293b4f94c01b01bb22e3933d3e4}{Delimiters}} = \{\textcolor{charliteral}{' '}, \textcolor{charliteral}{'\(\backslash\)n'}, \textcolor{charliteral}{'\(\backslash\)t'}, \textcolor{charliteral}{'\(\backslash\)r'}\};}
\DoxyCodeLine{50 }
\DoxyCodeLine{53 \textcolor{keyword}{const} std::unordered\_map<char, std::string> \mbox{\hyperlink{namespacejson_aae71aa8a3e2998dcb82942a1ec5874e6}{CharsToReplace}} = \{}
\DoxyCodeLine{54     \{\textcolor{charliteral}{'\(\backslash\)n'}, R\textcolor{stringliteral}{"{}(\(\backslash\)n)"{}\},}}
\DoxyCodeLine{55 \textcolor{stringliteral}{    \{}\textcolor{charliteral}{'\(\backslash\)r'}, R\textcolor{stringliteral}{"{}(\(\backslash\)r)"{}\},}}
\DoxyCodeLine{56 \textcolor{stringliteral}{    \{}\textcolor{charliteral}{'\(\backslash\)"{}'}, R\textcolor{stringliteral}{"{}(\(\backslash\)"{})"{}\},}}
\DoxyCodeLine{57 \textcolor{stringliteral}{    \{}\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, R\textcolor{stringliteral}{"{}(\(\backslash\)\(\backslash\))"{}\},}}
\DoxyCodeLine{58 \textcolor{stringliteral}{\};}}
\DoxyCodeLine{59 \textcolor{stringliteral}{}}
\DoxyCodeLine{60 \textcolor{stringliteral}{Document Load(std::istream \&input);}}
\DoxyCodeLine{61 \textcolor{stringliteral}{}}
\DoxyCodeLine{67 \textcolor{stringliteral}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} Value>}
\DoxyCodeLine{68 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(\textcolor{keyword}{const} Value \&value, \textcolor{keyword}{const} \mbox{\hyperlink{structjson_1_1PrintContext}{PrintContext}} \&ctx) \{}
\DoxyCodeLine{69   ctx.out << value;}
\DoxyCodeLine{70 \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{76 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(std::nullptr\_t, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{77 }
\DoxyCodeLine{82 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(\textcolor{keyword}{const} Array \&arr, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{83 }
\DoxyCodeLine{88 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacejson_a14165bfd985e982794b3697b71cc4a01}{Dict}} \&dict, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{89 }
\DoxyCodeLine{94 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(\textcolor{keyword}{const} std::string \&str, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{95 }
\DoxyCodeLine{100 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a48b99c1e9eac31bd6bdea2fc43784a72}{PrintValue}}(\textcolor{keyword}{const} \textcolor{keywordtype}{bool} \&bl, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{101 }
\DoxyCodeLine{104 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a70b9e7f4f2cae2a274020487a32f7a9e}{PrintNode}}(\textcolor{keyword}{const} Node \&node, \textcolor{keyword}{const} PrintContext \&ctx);}
\DoxyCodeLine{105 }
\DoxyCodeLine{107 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacejson_a6221e4636b39e358b3d05b3a29f206c8}{Print}}(\textcolor{keyword}{const} Document \&doc, std::ostream \&output);}
\DoxyCodeLine{108 }
\DoxyCodeLine{112 \textcolor{keyword}{class }\mbox{\hyperlink{classjson_1_1Node}{Node}} final : \textcolor{keyword}{private} std::variant<std::nullptr\_t, Array, Dict, bool, int,}
\DoxyCodeLine{113                                         double, std::string> \{}
\DoxyCodeLine{114 \textcolor{keyword}{public}:}
\DoxyCodeLine{115   \textcolor{keyword}{using }Value =}
\DoxyCodeLine{116       std::variant<std::nullptr\_t, Array, Dict, bool, int, double, std::string>;}
\DoxyCodeLine{117   \textcolor{comment}{// Let's inherit all constructors of variant}}
\DoxyCodeLine{118   \textcolor{keyword}{using }variant::variant;}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   \mbox{\hyperlink{classjson_1_1Node}{Node}}(Node::Value \&\&val);}
\DoxyCodeLine{121   \mbox{\hyperlink{classjson_1_1Node}{Node}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Document}{Document}} \&doc);}
\DoxyCodeLine{122 }
\DoxyCodeLine{123   \textcolor{keywordtype}{bool} IsInt() \textcolor{keyword}{const};}
\DoxyCodeLine{124   \textcolor{keywordtype}{bool} IsDouble() \textcolor{keyword}{const};}
\DoxyCodeLine{125   \textcolor{keywordtype}{bool} IsPureDouble() \textcolor{keyword}{const};}
\DoxyCodeLine{126   \textcolor{keywordtype}{bool} IsBool() \textcolor{keyword}{const};}
\DoxyCodeLine{127   \textcolor{keywordtype}{bool} IsString() \textcolor{keyword}{const};}
\DoxyCodeLine{128   \textcolor{keywordtype}{bool} IsNull() \textcolor{keyword}{const};}
\DoxyCodeLine{129   \textcolor{keywordtype}{bool} IsArray() \textcolor{keyword}{const};}
\DoxyCodeLine{130   \textcolor{keywordtype}{bool} IsMap() \textcolor{keyword}{const};}
\DoxyCodeLine{131 }
\DoxyCodeLine{132   \textcolor{keywordtype}{int} AsInt() \textcolor{keyword}{const};}
\DoxyCodeLine{133   \textcolor{keywordtype}{bool} AsBool() \textcolor{keyword}{const};}
\DoxyCodeLine{134   \textcolor{keywordtype}{double} AsDouble() \textcolor{keyword}{const};}
\DoxyCodeLine{135   \textcolor{keyword}{const} std::string \&AsString() \textcolor{keyword}{const};}
\DoxyCodeLine{136   \textcolor{keyword}{const} Array \&AsArray() \textcolor{keyword}{const};}
\DoxyCodeLine{137   \textcolor{keyword}{const} \mbox{\hyperlink{namespacejson_a14165bfd985e982794b3697b71cc4a01}{Dict}} \&AsMap() \textcolor{keyword}{const};}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \textcolor{keyword}{const} Value \&GetConstValue() \textcolor{keyword}{const};}
\DoxyCodeLine{140   Value \&GetValue();}
\DoxyCodeLine{141 \};}
\DoxyCodeLine{142 }
\DoxyCodeLine{144 \textcolor{keyword}{class }\mbox{\hyperlink{classjson_1_1Document}{Document}} \{}
\DoxyCodeLine{145 \textcolor{keyword}{public}:}
\DoxyCodeLine{146   \textcolor{keyword}{explicit} \mbox{\hyperlink{classjson_1_1Document}{Document}}(\mbox{\hyperlink{classjson_1_1Node}{Node}} root);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&GetRoot() \textcolor{keyword}{const};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150 \textcolor{keyword}{private}:}
\DoxyCodeLine{151   \mbox{\hyperlink{classjson_1_1Node}{Node}} root\_;}
\DoxyCodeLine{152 \};}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \} \textcolor{comment}{// namespace io::json}}

\end{DoxyCode}
