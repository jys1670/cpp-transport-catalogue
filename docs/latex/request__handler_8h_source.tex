\hypertarget{request__handler_8h_source}{}\doxysection{request\+\_\+handler.\+h}
\label{request__handler_8h_source}\index{transport-\/catalogue/request\_handler.h@{transport-\/catalogue/request\_handler.h}}
\mbox{\hyperlink{request__handler_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string\_view>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{domain_8h}{domain.h}}"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{json_8h}{json.h}}"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{map__renderer_8h}{map\_renderer.h}}"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{transport__catalogue_8h}{transport\_catalogue.h}}"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{transport__router_8h}{transport\_router.h}}"{}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{namespace }core \{}
\DoxyCodeLine{30 \textcolor{keyword}{class }\mbox{\hyperlink{classcore_1_1RequestHandler}{RequestHandler}} \{}
\DoxyCodeLine{31 \textcolor{keyword}{public}:}
\DoxyCodeLine{36   \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes}{RequestTypes}} \{}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{PrintBusStats}} \{}
\DoxyCodeLine{39       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{40       std::string\_view bus\_name;}
\DoxyCodeLine{41     \};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{PrintStopStats}} \{}
\DoxyCodeLine{44       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{45       std::string\_view stop\_name;}
\DoxyCodeLine{46     \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{UpdateMapRenderSettings}} \{}
\DoxyCodeLine{49       \textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{json::Node}} *settings;}
\DoxyCodeLine{50     \};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{PrintMap}} \{}
\DoxyCodeLine{53       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{54     \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{UpdateRoutingSettings}} \{}
\DoxyCodeLine{57       \textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{json::Node}} *settings;}
\DoxyCodeLine{58     \};}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1Route}{Route}} \{}
\DoxyCodeLine{61       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{62       std::string\_view from;}
\DoxyCodeLine{63       std::string\_view to;}
\DoxyCodeLine{64     \};}
\DoxyCodeLine{65   \};}
\DoxyCodeLine{66 }
\DoxyCodeLine{68   \textcolor{keyword}{using }\mbox{\hyperlink{classcore_1_1RequestHandler_a093ccb427f5bb9311a09f0cb640af577}{ReqsQueue}} =}
\DoxyCodeLine{69       std::variant<\mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{RequestTypes::PrintBusStats}}, \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{RequestTypes::PrintStopStats}},}
\DoxyCodeLine{70                    \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{RequestTypes::UpdateMapRenderSettings}},}
\DoxyCodeLine{71                    \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{RequestTypes::PrintMap}}, \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{RequestTypes::UpdateRoutingSettings}},}
\DoxyCodeLine{72                    \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1Route}{RequestTypes::Route}}>;}
\DoxyCodeLine{73 }
\DoxyCodeLine{80   \mbox{\hyperlink{classcore_1_1RequestHandler_add5a657616ea6a855a5fd3bbb38aa85e}{RequestHandler}}(std::ostream \&output, \mbox{\hyperlink{classcore_1_1TransportCatalogue}{core::TransportCatalogue}} \&catalogue,}
\DoxyCodeLine{81                  \mbox{\hyperlink{classgraphics_1_1MapRenderer}{graphics::MapRenderer}} \&renderer, \mbox{\hyperlink{classcore_1_1TransportRouter}{core::TransportRouter}} \&router)}
\DoxyCodeLine{82       : \mbox{\hyperlink{classcore_1_1RequestHandler_adee25f4453d7f440a330636177e7cd2a}{outstream\_}}\{output\},}
\DoxyCodeLine{83         \mbox{\hyperlink{classcore_1_1RequestHandler_af1e58916a53fdc2a1e3c2b87b157d638}{catalogue\_}}\{catalogue\}, \mbox{\hyperlink{classcore_1_1RequestHandler_a87176873c0aa3ad55f5e7a13fe432db3}{renderer\_}}\{renderer\}, \mbox{\hyperlink{classcore_1_1RequestHandler_a361e4312257a3c3f84bb169599f43e62}{trouter\_}}\{router\} \{\};}
\DoxyCodeLine{84 }
\DoxyCodeLine{86   \textcolor{keywordtype}{void} \mbox{\hyperlink{classcore_1_1RequestHandler_a3476ab9c51c3ef3689a04631d897e7e6}{InsertIntoQueue}}(\mbox{\hyperlink{classcore_1_1RequestHandler_a093ccb427f5bb9311a09f0cb640af577}{ReqsQueue}} \&\&elem);}
\DoxyCodeLine{87 }
\DoxyCodeLine{93   \mbox{\hyperlink{structdata_1_1RoutesData}{data::RoutesData}} \mbox{\hyperlink{classcore_1_1RequestHandler_adb1e3b7c5489afa746d7edadca952e6f}{GetCatalogueData}}() \textcolor{keyword}{const};}
\DoxyCodeLine{94 }
\DoxyCodeLine{96   \textcolor{keywordtype}{void} \mbox{\hyperlink{classcore_1_1RequestHandler_a3d0300120a852987777159e66f69fc07}{ProcessAllRequests}}(}
\DoxyCodeLine{97       \mbox{\hyperlink{namespaceinput__info_a3ecc5b6b1fd2d6e7aecf01c04dc54f00}{input\_info::OutputFormat}} format = input\_info::OutputFormat::Json);}
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \textcolor{keyword}{private}:}
\DoxyCodeLine{101   std::ostream \&\mbox{\hyperlink{classcore_1_1RequestHandler_adee25f4453d7f440a330636177e7cd2a}{outstream\_}};}
\DoxyCodeLine{103   \mbox{\hyperlink{classcore_1_1TransportCatalogue}{core::TransportCatalogue}} \&\mbox{\hyperlink{classcore_1_1RequestHandler_af1e58916a53fdc2a1e3c2b87b157d638}{catalogue\_}};}
\DoxyCodeLine{105   \mbox{\hyperlink{classgraphics_1_1MapRenderer}{graphics::MapRenderer}} \&\mbox{\hyperlink{classcore_1_1RequestHandler_a87176873c0aa3ad55f5e7a13fe432db3}{renderer\_}};}
\DoxyCodeLine{107   \mbox{\hyperlink{classcore_1_1TransportRouter}{core::TransportRouter}} \&\mbox{\hyperlink{classcore_1_1RequestHandler_a361e4312257a3c3f84bb169599f43e62}{trouter\_}};}
\DoxyCodeLine{108 }
\DoxyCodeLine{111   \textcolor{keyword}{struct }\mbox{\hyperlink{structcore_1_1RequestHandler_1_1JsonPrint}{JsonPrint}} \{}
\DoxyCodeLine{112   \textcolor{keyword}{public}:}
\DoxyCodeLine{113     \textcolor{keyword}{explicit} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1JsonPrint}{JsonPrint}}(\mbox{\hyperlink{classcore_1_1RequestHandler}{RequestHandler}} \&parent, json::Array \&arr)}
\DoxyCodeLine{114         : parent\_\{parent\}, arr\_\{arr\} \{\};}
\DoxyCodeLine{115     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{RequestTypes::PrintBusStats}} \&req);}
\DoxyCodeLine{116     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{RequestTypes::PrintStopStats}} \&req);}
\DoxyCodeLine{117     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{RequestTypes::UpdateMapRenderSettings}} \&req);}
\DoxyCodeLine{118     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{RequestTypes::PrintMap}} \&req);}
\DoxyCodeLine{119     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{RequestTypes::UpdateRoutingSettings}} \&req);}
\DoxyCodeLine{120     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structcore_1_1RequestHandler_1_1RequestTypes_1_1Route}{RequestTypes::Route}} \&req);}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   \textcolor{keyword}{private}:}
\DoxyCodeLine{123     \mbox{\hyperlink{classcore_1_1RequestHandler}{RequestHandler}} \&parent\_;}
\DoxyCodeLine{124     json::Array \&arr\_;}
\DoxyCodeLine{125   \};}
\DoxyCodeLine{126 }
\DoxyCodeLine{128   std::vector<ReqsQueue> \mbox{\hyperlink{classcore_1_1RequestHandler_a93c3dd7efb8af4f64bfde49aa4b5668f}{reqs\_queue\_}};}
\DoxyCodeLine{129 }
\DoxyCodeLine{131   \textcolor{keywordtype}{void} \mbox{\hyperlink{classcore_1_1RequestHandler_aa579a47b5004f2e0a84cd0f0e6e2bf37}{Clear}}();}
\DoxyCodeLine{132 \};}
\DoxyCodeLine{133 \} \textcolor{comment}{// namespace core}}

\end{DoxyCode}
