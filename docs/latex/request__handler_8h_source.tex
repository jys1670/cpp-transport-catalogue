\hypertarget{request__handler_8h_source}{}\doxysection{request\+\_\+handler.\+h}
\label{request__handler_8h_source}\index{/home/user/Documents/cpp-\/transport-\/catalogue/transport-\/catalogue/request\_handler.h@{/home/user/Documents/cpp-\/transport-\/catalogue/transport-\/catalogue/request\_handler.h}}
\mbox{\hyperlink{request__handler_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string\_view>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{domain_8h}{domain.h}}"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{json_8h}{json.h}}"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{map__renderer_8h}{map\_renderer.h}}"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{transport__catalogue_8h}{transport\_catalogue.h}}"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{transport__router_8h}{transport\_router.h}}"{}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceio}{io}} \{}
\DoxyCodeLine{30 \textcolor{keyword}{class }\mbox{\hyperlink{classio_1_1RequestHandler}{RequestHandler}} \{}
\DoxyCodeLine{31 \textcolor{keyword}{public}:}
\DoxyCodeLine{36   \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes}{RequestTypes}} \{}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{PrintBusStats}} \{}
\DoxyCodeLine{39       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{40       std::string\_view bus\_name;}
\DoxyCodeLine{41     \};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{PrintStopStats}} \{}
\DoxyCodeLine{44       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{45       std::string\_view stop\_name;}
\DoxyCodeLine{46     \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{UpdateMapRenderSettings}} \{}
\DoxyCodeLine{49       \textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1json_1_1Node}{json::Node}} *settings;}
\DoxyCodeLine{50     \};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{PrintMap}} \{}
\DoxyCodeLine{53       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{54     \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{UpdateRoutingSettings}} \{}
\DoxyCodeLine{57       \textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1json_1_1Node}{json::Node}} *settings;}
\DoxyCodeLine{58     \};}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1Route}{Route}} \{}
\DoxyCodeLine{61       \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{62       std::string\_view from;}
\DoxyCodeLine{63       std::string\_view to;}
\DoxyCodeLine{64     \};}
\DoxyCodeLine{65   \};}
\DoxyCodeLine{66 }
\DoxyCodeLine{68   \textcolor{keyword}{using }\mbox{\hyperlink{classio_1_1RequestHandler_a850af3f309e912489527dc823cf5fedc}{ReqsQueue}} =}
\DoxyCodeLine{69       std::variant<\mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{RequestTypes::PrintBusStats}}, \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{RequestTypes::PrintStopStats}},}
\DoxyCodeLine{70                    \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{RequestTypes::UpdateMapRenderSettings}},}
\DoxyCodeLine{71                    \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{RequestTypes::PrintMap}}, \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{RequestTypes::UpdateRoutingSettings}},}
\DoxyCodeLine{72                    \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1Route}{RequestTypes::Route}}>;}
\DoxyCodeLine{73 }
\DoxyCodeLine{80   \mbox{\hyperlink{classio_1_1RequestHandler_a0969eebf7991412ef700f4088d2541e0}{RequestHandler}}(std::ostream \&output, \mbox{\hyperlink{classcore_1_1TransportCatalogue}{core::TransportCatalogue}} \&catalogue,}
\DoxyCodeLine{81                  \mbox{\hyperlink{classgraphics_1_1MapRenderer}{graphics::MapRenderer}} \&renderer, \mbox{\hyperlink{classcore_1_1TransportRouter}{core::TransportRouter}} \&router)}
\DoxyCodeLine{82       : \mbox{\hyperlink{classio_1_1RequestHandler_a29b3eb7dd938e04db2f1ee928c6840bb}{outstream\_}}\{output\},}
\DoxyCodeLine{83         \mbox{\hyperlink{classio_1_1RequestHandler_ad4d89514715f574958ce0a8de49dbbb8}{catalogue\_}}\{catalogue\}, \mbox{\hyperlink{classio_1_1RequestHandler_a4f2adf42f36807bb225e951d7cc0eeb6}{renderer\_}}\{renderer\}, \mbox{\hyperlink{classio_1_1RequestHandler_a6f261c87a7c1951404e2a75accd479dc}{trouter\_}}\{router\} \{\};}
\DoxyCodeLine{84 }
\DoxyCodeLine{86   \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1RequestHandler_ac586c2d7aa29006608be86f0816291a4}{InsertIntoQueue}}(\mbox{\hyperlink{classio_1_1RequestHandler_a850af3f309e912489527dc823cf5fedc}{ReqsQueue}} \&\&elem);}
\DoxyCodeLine{87 }
\DoxyCodeLine{93   \mbox{\hyperlink{structcore_1_1data_1_1RoutesData}{core::data::RoutesData}} \mbox{\hyperlink{classio_1_1RequestHandler_ac49b168c3e1e87c8e5f947f1fd9fc030}{GetCatalogueData}}() \textcolor{keyword}{const};}
\DoxyCodeLine{94 }
\DoxyCodeLine{96   \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1RequestHandler_a1cdc8bf5f20d65d37fc8d6ad04ec2778}{ProcessAllRequests}}(\mbox{\hyperlink{namespaceio_a861a03ab529b37364d91fb4be59e15ed}{OutputFormat}} format = OutputFormat::Json);}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{keyword}{private}:}
\DoxyCodeLine{100   std::ostream \&\mbox{\hyperlink{classio_1_1RequestHandler_a29b3eb7dd938e04db2f1ee928c6840bb}{outstream\_}};}
\DoxyCodeLine{102   \mbox{\hyperlink{classcore_1_1TransportCatalogue}{core::TransportCatalogue}} \&\mbox{\hyperlink{classio_1_1RequestHandler_ad4d89514715f574958ce0a8de49dbbb8}{catalogue\_}};}
\DoxyCodeLine{104   \mbox{\hyperlink{classgraphics_1_1MapRenderer}{graphics::MapRenderer}} \&\mbox{\hyperlink{classio_1_1RequestHandler_a4f2adf42f36807bb225e951d7cc0eeb6}{renderer\_}};}
\DoxyCodeLine{106   \mbox{\hyperlink{classcore_1_1TransportRouter}{core::TransportRouter}} \&\mbox{\hyperlink{classio_1_1RequestHandler_a6f261c87a7c1951404e2a75accd479dc}{trouter\_}};}
\DoxyCodeLine{107 }
\DoxyCodeLine{110   \textcolor{keyword}{struct }\mbox{\hyperlink{structio_1_1RequestHandler_1_1JsonPrint}{JsonPrint}} \{}
\DoxyCodeLine{111   \textcolor{keyword}{public}:}
\DoxyCodeLine{112     \textcolor{keyword}{explicit} \mbox{\hyperlink{structio_1_1RequestHandler_1_1JsonPrint}{JsonPrint}}(\mbox{\hyperlink{classio_1_1RequestHandler}{RequestHandler}} \&parent, json::Array \&arr)}
\DoxyCodeLine{113         : parent\_\{parent\}, arr\_\{arr\} \{\};}
\DoxyCodeLine{114     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintBusStats}{RequestTypes::PrintBusStats}} \&req);}
\DoxyCodeLine{115     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintStopStats}{RequestTypes::PrintStopStats}} \&req);}
\DoxyCodeLine{116     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateMapRenderSettings}{RequestTypes::UpdateMapRenderSettings}} \&req);}
\DoxyCodeLine{117     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1PrintMap}{RequestTypes::PrintMap}} \&req);}
\DoxyCodeLine{118     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1UpdateRoutingSettings}{RequestTypes::UpdateRoutingSettings}} \&req);}
\DoxyCodeLine{119     \textcolor{keywordtype}{void} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structio_1_1RequestHandler_1_1RequestTypes_1_1Route}{RequestTypes::Route}} \&req);}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{keyword}{private}:}
\DoxyCodeLine{122     \mbox{\hyperlink{classio_1_1RequestHandler}{RequestHandler}} \&parent\_;}
\DoxyCodeLine{123     json::Array \&arr\_;}
\DoxyCodeLine{124   \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{127   std::vector<ReqsQueue> \mbox{\hyperlink{classio_1_1RequestHandler_a6446529b977f94676d5e6b27351d0147}{reqs\_queue\_}};}
\DoxyCodeLine{128 }
\DoxyCodeLine{130   \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1RequestHandler_a2bb108c8e0860fb8d6119ddb693611cb}{Clear}}();}
\DoxyCodeLine{131 \};}
\DoxyCodeLine{132 \} \textcolor{comment}{// namespace io}}

\end{DoxyCode}
